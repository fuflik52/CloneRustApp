# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—Ä—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞

## –û–ø–∏—Å–∞–Ω–∏–µ
–°–∫—Ä—ã—Ç–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/map` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–∞—Ä—Ç—É —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –ø–æ–∑–∏—Ü–∏—è–º–∏ –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä Rust

–í–∞–º –Ω—É–∂–Ω—ã –¥–≤–∞ –ø–ª–∞–≥–∏–Ω–∞:
- **MapImageUrl.cs** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã
- **MapSync.cs** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –∫–∞—Ä—Ç—É –∏ –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤ —Å –≤–µ–±-–ø–∞–Ω–µ–ª—å—é

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ–±–∞ —Ñ–∞–π–ª–∞ –≤ –ø–∞–ø–∫—É `oxide/plugins/` –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ.

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ MapSync

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ URL –≤–∞—à–µ–≥–æ API (–µ—Å–ª–∏ –Ω–µ localhost)
mapsync.seturl http://your-domain.com/api

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
mapsync.setkey YOUR_SECRET_KEY_HERE
```

–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –≤–µ–±-–ø–∞–Ω–µ–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–°–µ—Ä–≤–µ—Ä—ã".

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ –∫–∞—Ä—Ç—É –≤—Ä—É—á–Ω—É—é
mapsync.update

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –∫–∞—Ä—Ç—ã
mapurl
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–æ—Å—Ç—É–ø –∫ –∫–∞—Ä—Ç–µ

–ö–∞—Ä—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
```
http://your-domain.com/{server-slug}/map
```

–ù–∞–ø—Ä–∏–º–µ—Ä:
```
http://localhost:3001/pan-rust/map
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ –ö–∞—Ä—Ç–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–∏ —Å –∏—Ö –∏–º–µ–Ω–∞–º–∏
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è: –∑–µ–ª–µ–Ω—ã–π = –≤ –∫–æ–º–∞–Ω–¥–µ, –∫—Ä–∞—Å–Ω—ã–π = —Å–æ–ª–æ
- ‚úÖ –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∏–≥—Ä–æ–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ–≥–æ –∞–≤–∞—Ç–∞—Ä –∏ Steam ID
- ‚úÖ –ö–∞—Ä—Ç–∞ —Å–∫—Ä—ã—Ç–∞ –æ—Ç –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –º–µ–Ω—é)

### –õ–µ–≥–µ–Ω–¥–∞

- üü¢ **–ó–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞** - –∏–≥—Ä–æ–∫ –≤ –∫–æ–º–∞–Ω–¥–µ
- üî¥ **–ö—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞** - –∏–≥—Ä–æ–∫ –±–µ–∑ –∫–æ–º–∞–Ω–¥—ã (—Å–æ–ª–æ)

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü–ª–∞–≥–∏–Ω **MapImageUrl** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã —Å —Å–µ—Ç–∫–æ–π
2. –ü–ª–∞–≥–∏–Ω **MapSync** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç URL –∫–∞—Ä—Ç—ã –∏ –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
3. –í–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/map` –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ API –∏ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ
4. –ü–æ–∑–∏—Ü–∏–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

## API Endpoints

### GET /api/servers/:serverId/map
–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –∏ –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤

**–û—Ç–≤–µ—Ç:**
```json
{
  "mapUrl": "https://...",
  "worldSize": 4000,
  "players": [
    {
      "steam_id": "76561198...",
      "name": "Player Name",
      "avatar": "https://...",
      "position": { "x": 100, "y": 50, "z": -200 },
      "team": "12345"
    }
  ],
  "serverName": "My Server",
  "online": 10
}
```

### POST /api/map-url
–û–±–Ω–æ–≤–∏—Ç—å URL –∫–∞—Ä—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–ª–∞–≥–∏–Ω–æ–º)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "mapUrl": "https://...",
  "worldSize": 4000
}
```

## Troubleshooting

### –ö–∞—Ä—Ç–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–ª–∞–≥–∏–Ω MapImageUrl —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `mapurl` –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –∫–∞—Ä—Ç—ã –¥–æ—Å—Ç—É–ø–µ–Ω

### –ò–≥—Ä–æ–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–ª–∞–≥–∏–Ω MapSync —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –∫–æ–º–∞–Ω–¥–æ–π `mapsync.setkey`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### –ü–æ–∑–∏—Ü–∏–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- –ü–ª–∞–≥–∏–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ API
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É URL –∫–æ–º–∞–Ω–¥–æ–π `mapsync.seturl`

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/map` –Ω–µ –∑–∞—â–∏—â–µ–Ω–∞ –ø–∞—Ä–æ–ª–µ–º. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–∫—Ä—ã—Ç—å –µ—ë –æ—Ç –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö:

1. –î–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (nginx/apache)
2. –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∫–æ–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –¥–æ–±–∞–≤–∏–≤ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–∞—Ä–æ–ª—è
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–í—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤)
- –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π
- –î–æ–±–∞–≤–∏—Ç—å –∑–æ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å–∞ –Ω–∞ –∫–∞—Ä—Ç–µ
- –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏ (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
